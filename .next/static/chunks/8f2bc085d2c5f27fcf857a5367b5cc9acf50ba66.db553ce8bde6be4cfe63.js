(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[8],{"1vSR":function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r("q1tI"),o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var a=function(e){return{loading:void 0===e||null===e,value:e}},i=function(e){var t=e?e():void 0,r=Object(n.useReducer)((function(e,t){switch(t.type){case"error":return o({},e,{error:t.error,loading:!1,value:void 0});case"reset":return a(t.defaultValue);case"value":return o({},e,{error:void 0,loading:!1,value:t.value});default:return e}}),a(t)),i=r[0],c=r[1],u=function(){var t=e?e():void 0;c({type:"reset",defaultValue:t})},l=function(e){c({type:"error",error:e})},s=function(e){c({type:"value",value:e})};return Object(n.useMemo)((function(){return{error:i.error,loading:i.loading,reset:u,setError:l,setValue:s,value:i.value}}),[i.error,i.loading,u,l,s,i.value])},c=function(e){var t=i((function(){return e.currentUser})),r=t.error,o=t.loading,a=t.setError,c=t.setValue,u=t.value;Object(n.useEffect)((function(){var t=e.onAuthStateChanged(c,a);return function(){t()}}),[e]);var l=[u,o,r];return Object(n.useMemo)((function(){return l}),l)}},"20a2":function(e,t,r){e.exports=r("nOHt")},"284h":function(e,t,r){var n=r("cDf5").default;function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var u=i?Object.getOwnPropertyDescriptor(e,c):null;u&&(u.get||u.set)?Object.defineProperty(a,c,u):a[c]=e[c]}return a.default=e,r&&r.set(e,a),a},e.exports.default=e.exports,e.exports.__esModule=!0},"469l":function(e,t,r){"use strict";var n=r("wx14"),o=r("Ff2n"),a=r("q1tI"),i=(r("17x9"),r("iuhU")),c=r("H2TA"),u=r("5AJ6"),l=Object(u.a)(a.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var s=a.forwardRef((function(e,t){var r=e.alt,c=e.children,u=e.classes,s=e.className,d=e.component,f=void 0===d?"div":d,p=e.imgProps,v=e.sizes,b=e.src,h=e.srcSet,m=e.variant,y=void 0===m?"circle":m,g=Object(o.a)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),j=null,O=function(e){var t=e.src,r=e.srcSet,n=a.useState(!1),o=n[0],i=n[1];return a.useEffect((function(){if(t||r){i(!1);var e=!0,n=new Image;return n.src=t,n.srcSet=r,n.onload=function(){e&&i("loaded")},n.onerror=function(){e&&i("error")},function(){e=!1}}}),[t,r]),o}({src:b,srcSet:h}),x=b||h,w=x&&"error"!==O;return j=w?a.createElement("img",Object(n.a)({alt:r,src:b,srcSet:h,sizes:v,className:u.img},p)):null!=c?c:x&&r?r[0]:a.createElement(l,{className:u.fallback}),a.createElement(f,Object(n.a)({className:Object(i.a)(u.root,u.system,u[y],s,!w&&u.colorDefault),ref:t},g),j)}));t.a=Object(c.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(s)},"5AJ6":function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r("wx14"),o=r("q1tI"),a=r.n(o),i=r("Ff2n"),c=(r("17x9"),r("iuhU")),u=r("H2TA"),l=r("NqtD"),s=o.forwardRef((function(e,t){var r=e.children,a=e.classes,u=e.className,s=e.color,d=void 0===s?"inherit":s,f=e.component,p=void 0===f?"svg":f,v=e.fontSize,b=void 0===v?"default":v,h=e.htmlColor,m=e.titleAccess,y=e.viewBox,g=void 0===y?"0 0 24 24":y,j=Object(i.a)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return o.createElement(p,Object(n.a)({className:Object(c.a)(a.root,u,"inherit"!==d&&a["color".concat(Object(l.a)(d))],"default"!==b&&a["fontSize".concat(Object(l.a)(b))]),focusable:"false",viewBox:g,color:h,"aria-hidden":!m||void 0,role:m?"img":void 0,ref:t},j),r,m?o.createElement("title",null,m):null)}));s.muiName="SvgIcon";var d=Object(u.a)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(s);function f(e,t){var r=function(t,r){return a.a.createElement(d,Object(n.a)({ref:r},t),e)};return r.muiName=d.muiName,a.a.memo(a.a.forwardRef(r))}},"8/g6":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=r("kNCj")},C8l7:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r("q1tI"),o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=function(e){return{loading:void 0===e||null===e,value:e}},i=function(e){var t=e?e():void 0,r=Object(n.useReducer)((function(e,t){switch(t.type){case"error":return o({},e,{error:t.error,loading:!1,value:void 0});case"reset":return a(t.defaultValue);case"value":return o({},e,{error:void 0,loading:!1,value:t.value});default:return e}}),a(t)),i=r[0],c=r[1],u=function(){var t=e?e():void 0;c({type:"reset",defaultValue:t})},l=function(e){c({type:"error",error:e})},s=function(e){c({type:"value",value:e})};return Object(n.useMemo)((function(){return{error:i.error,loading:i.loading,reset:u,setError:l,setValue:s,value:i.value}}),[i.error,i.loading,u,l,s,i.value])},c=function(e,t){var r=!e&&!t,n=!!e&&!!t&&e.isEqual(t);return r||n},u=function(e,t){return function(e,t,r){var o=Object(n.useRef)(e);return Object(n.useEffect)((function(){t(e,o.current)||(o.current=e,r&&r())})),o}(e,c,t)},l=function(e,t){return s(!0,e,t)},s=function(e,t,r){var o=i(),a=o.error,c=o.loading,l=o.reset,s=o.setError,d=o.setValue,f=o.value,p=u(t,l);Object(n.useEffect)((function(){if(p.current){if(e){var t=r&&r.snapshotListenOptions?p.current.onSnapshot(r.snapshotListenOptions,d,s):p.current.onSnapshot(d,s);return function(){t()}}p.current.get(r?r.getOptions:void 0).then(d).catch(s)}else d(void 0)}),[p.current]);var v=[f,c,a];return Object(n.useMemo)((function(){return v}),v)}},"H/qo":function(e,t,r){"use strict";var n=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;t.validate=function(e){if(!e)return!1;if(e.length>254)return!1;if(!n.test(e))return!1;var t=e.split("@");return!(t[0].length>64)&&!t[1].split(".").some((function(e){return e.length>63}))}},PsDL:function(e,t,r){"use strict";var n=r("wx14"),o=r("Ff2n"),a=r("q1tI"),i=(r("17x9"),r("iuhU")),c=r("H2TA"),u=r("ye/S"),l=r("VD++"),s=r("NqtD"),d=a.forwardRef((function(e,t){var r=e.edge,c=void 0!==r&&r,u=e.children,d=e.classes,f=e.className,p=e.color,v=void 0===p?"default":p,b=e.disabled,h=void 0!==b&&b,m=e.disableFocusRipple,y=void 0!==m&&m,g=e.size,j=void 0===g?"medium":g,O=Object(o.a)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return a.createElement(l.a,Object(n.a)({className:Object(i.a)(d.root,f,"default"!==v&&d["color".concat(Object(s.a)(v))],h&&d.disabled,"small"===j&&d["size".concat(Object(s.a)(j))],{start:d.edgeStart,end:d.edgeEnd}[c]),centerRipple:!0,focusRipple:!y,disabled:h,ref:t},O),a.createElement("span",{className:d.label},u))}));t.a=Object(c.a)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(u.b)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(u.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(u.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(d)},PtdR:function(e,t,r){"use strict";t.a=function(e,t){return null===e||void 0===e?void 0:e.filter((function(e){return e!==(null===t||void 0===t?void 0:t.email)}))[0]}},TqRt:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},"V/tC":function(e,t,r){"use strict";var n=r("TqRt"),o=r("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(r("q1tI")),i=(0,n(r("8/g6")).default)(a.createElement("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"}),"Chat");t.default=i},ZuSV:function(e,t,r){"use strict";var n=r("TqRt"),o=r("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(r("q1tI")),i=(0,n(r("8/g6")).default)(a.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");t.default=i},bSwy:function(e,t,r){"use strict";var n=r("TqRt"),o=r("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(r("q1tI")),i=(0,n(r("8/g6")).default)(a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.default=i},cDf5:function(e,t){function r(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=r=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=r=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),r(t)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0},hAPS:function(e,t,r){"use strict";var n=r("jT3O"),o=r("nKUr"),a=r("xvhg"),i=r("PsDL"),c=r("469l"),u=r("Z3vd"),l=(r("q1tI"),r("1vSR")),s=r("Ktyj"),d=r("V/tC"),f=r.n(d),p=r("ZuSV"),v=r.n(p),b=r("vOnD"),h=r("bSwy"),m=r.n(h),y=r("20a2"),g=r("C8l7"),j=r("PtdR");function O(){var e=Object(n.a)(["\n  margin: 5px;\n  margin-right: 15px;\n"]);return O=function(){return e},e}function x(){var e=Object(n.a)(["\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  padding: 15px;\n  word-break: break-word;\n\n  :hover {\n    background-color: #e9eaeb;\n  }\n"]);return x=function(){return e},e}var w=function(e){var t,r,n=e.id,i=e.users,c=Object(y.useRouter)(),u=Object(l.a)(s.a),d=Object(a.a)(u,1)[0],f=Object(g.a)(s.b.collection("users").where("email","==",Object(j.a)(i,d))),p=Object(a.a)(f,1)[0],v=null===p||void 0===p||null===(t=p.docs)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.data(),b=Object(j.a)(i,d);return Object(o.jsxs)(S,{onClick:function(){c.push("/chat/".concat(n))},children:[v?Object(o.jsx)(z,{src:null===v||void 0===v?void 0:v.photoURL}):Object(o.jsx)(z,{children:b[0]}),Object(o.jsx)("p",{children:b})]})},S=b.a.div(x()),z=Object(b.a)(c.a)(O()),k=r("H/qo");function R(){var e=Object(n.a)([""]);return R=function(){return e},e}function E(){var e=Object(n.a)(["\n  display: flex;\n  position: sticky;\n  top: 0;\n  background-color: white;\n  z-index: 1;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px;\n  height: 80px;\n  border-bottom: 1px solid whitesmoke;\n"]);return E=function(){return e},e}function C(){var e=Object(n.a)(["\n  outline-width: 0;\n  border: none;\n  flex: 1;\n"]);return C=function(){return e},e}function M(){var e=Object(n.a)(["\n  display: flex;\n  align-items: center;\n  padding: 5px;\n  border-radius: 2px;\n  padding: 20px;\n"]);return M=function(){return e},e}function A(){var e=Object(n.a)(["\n  width: 100%;\n  &&& {\n    border-top: 1px solid whitesmoke;\n    border-bottom: 1px solid whitesmoke;\n  }\n"]);return A=function(){return e},e}function _(){var e=Object(n.a)(["\n  cursor: pointer;\n\n  :hover {\n    opacity: 0.8;\n  }\n"]);return _=function(){return e},e}function I(){var e=Object(n.a)(["\n  flex: 0.45;\n  border-right: 1px solid whitesmoke;\n  height: 100vh;\n  min-width: 300px;\n  max-width: 350px;\n  overflow-y: scroll;\n\n  ::-webkit-scrollbar {\n    display: none;\n  }\n\n  -ms-overflow-style: none; /* IE and Edge */\n  scrollbar-width: none; /* Firefox */\n"]);return I=function(){return e},e}t.a=function(){var e=Object(l.a)(s.a),t=Object(a.a)(e,1)[0],r=s.b.collection("chats").where("users","array-contains",t.email),n=Object(g.a)(r),c=Object(a.a)(n,2),u=c[0],d=(c[1],function(e){return!(null===u||void 0===u||!u.docs.find((function(t){var r;return(null===(r=t.data().users.find((function(t){return t===e})))||void 0===r?void 0:r.length)>0})))});return Object(o.jsxs)(P,{children:[Object(o.jsxs)(D,{children:[Object(o.jsx)(N,{onClick:function(){return s.a.signOut()},src:t.photoURL}),Object(o.jsxs)(F,{children:[Object(o.jsx)(i.a,{children:Object(o.jsx)(f.a,{})}),Object(o.jsx)(i.a,{children:Object(o.jsx)(v.a,{})})]})]}),Object(o.jsxs)(V,{children:[Object(o.jsx)(m.a,{}),Object(o.jsx)(T,{placeholder:"Search in chats",type:"text"})]}),Object(o.jsx)(q,{onClick:function(){var e=prompt("Please enter an email address for the user you wish to chat with");e&&k.validate(e)&&!d(e)&&e!==t.email&&s.b.collection("chats").add({users:[t.email,e]})},children:"Start a new chat"}),null===u||void 0===u?void 0:u.docs.map((function(e){return Object(o.jsx)(w,{id:e.id,users:e.data().users},e.id)}))]})};var P=b.a.div(I()),N=Object(b.a)(c.a)(_()),q=Object(b.a)(u.a)(A()),V=b.a.div(M()),T=b.a.input(C()),D=b.a.div(E()),F=b.a.div(R())},kNCj:function(e,t,r){"use strict";r.r(t),r.d(t,"capitalize",(function(){return n.a})),r.d(t,"createChainedFunction",(function(){return o})),r.d(t,"createSvgIcon",(function(){return a.a})),r.d(t,"debounce",(function(){return i})),r.d(t,"deprecatedPropType",(function(){return c})),r.d(t,"isMuiElement",(function(){return l})),r.d(t,"ownerDocument",(function(){return s})),r.d(t,"ownerWindow",(function(){return d})),r.d(t,"requirePropFactory",(function(){return f})),r.d(t,"setRef",(function(){return p.a})),r.d(t,"unsupportedProp",(function(){return v})),r.d(t,"useControlled",(function(){return b})),r.d(t,"useEventCallback",(function(){return h.a})),r.d(t,"useForkRef",(function(){return m.a})),r.d(t,"unstable_useId",(function(){return y})),r.d(t,"useIsFocusVisible",(function(){return g.a}));var n=r("NqtD");function o(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t){return null==t?e:function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];e.apply(this,n),t.apply(this,n)}}),(function(){}))}var a=r("5AJ6");function i(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function n(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];var i=this,c=function(){e.apply(i,o)};clearTimeout(t),t=setTimeout(c,r)}return n.clear=function(){clearTimeout(t)},n}function c(e,t){return function(){return null}}var u=r("q1tI");function l(e,t){return u.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}function s(e){return e&&e.ownerDocument||document}function d(e){return s(e).defaultView||window}function f(e){return function(){return null}}var p=r("GIek");function v(e,t,r,n,o){return null}function b(e){var t=e.controlled,r=e.default,n=(e.name,e.state,u.useRef(void 0!==t).current),o=u.useState(r),a=o[0],i=o[1];return[n?t:a,u.useCallback((function(e){n||i(e)}),[])]}var h=r("Ovef"),m=r("bfFb");function y(e){var t=u.useState(e),r=t[0],n=t[1],o=e||r;return u.useEffect((function(){null==r&&n("mui-".concat(Math.round(1e5*Math.random())))}),[r]),o}var g=r("G7As")},xvhg:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(u){o=!0,a=u}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(t,"a",(function(){return o}))}}]);