{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Avatar } from \"@material-ui/core\";\nimport { useRouter } from \"next/router\";\nimport React from \"react\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useCollection } from \"react-firebase-hooks/firestore\";\nimport styled from \"styled-components\";\nimport { auth, db } from \"../firebase\";\nimport getRecipientEmail from \"../utils/getRecipientEmail\";\n\nfunction Chat({\n  id,\n  users\n}) {\n  var _recipientSnapshot$do, _recipientSnapshot$do2;\n\n  const router = useRouter();\n  const [user] = useAuthState(auth);\n  const [recipientSnapshot] = useCollection(db.collection(\"users\").where(\"email\", \"==\", getRecipientEmail(users, user)));\n\n  const enterChat = () => {\n    router.push(`/chat/${id}`);\n  };\n\n  const recipient = recipientSnapshot === null || recipientSnapshot === void 0 ? void 0 : (_recipientSnapshot$do = recipientSnapshot.docs) === null || _recipientSnapshot$do === void 0 ? void 0 : (_recipientSnapshot$do2 = _recipientSnapshot$do[0]) === null || _recipientSnapshot$do2 === void 0 ? void 0 : _recipientSnapshot$do2.data();\n  const recipientEmail = getRecipientEmail(users, user);\n  return /*#__PURE__*/_jsxs(Container, {\n    onClick: enterChat,\n    children: [recipient ? /*#__PURE__*/_jsx(UserAvatar, {\n      src: recipient === null || recipient === void 0 ? void 0 : recipient.photoURL\n    }) : /*#__PURE__*/_jsx(UserAvatar, {\n      children: recipientEmail[0]\n    }), /*#__PURE__*/_jsx(\"p\", {\n      children: recipientEmail\n    })]\n  });\n}\n\nexport default Chat;\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  padding: 15px;\n  word-break: break-word;\n\n  :hover {\n    background-color: #e9eaeb;\n  }\n`;\nconst UserAvatar = styled(Avatar)`\n  margin: 5px;\n  margin-right: 15px;\n`;","map":null,"metadata":{},"sourceType":"module"}